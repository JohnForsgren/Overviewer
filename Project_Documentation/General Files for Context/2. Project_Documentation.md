# Overviewer Project Documentation (AI Onboarding Snapshot)

Purpose of this document: Rapidly orient an AI (or a human skimming fast) to the current feature set, architecture touchâ€‘points, and parsing/enrichment logic. It is intentionally concise and NOT a user guide or exhaustive operational manual. It describes what exists (and key design intentions) so followâ€‘up reasoning or code generation can proceed with minimal clarification.

## Feature Summary
Core purpose: Generate a structured, humanâ€‘readable Markdown â€œblueprintâ€ of a source tree for fast onboarding (Developer mode) or richer semantic context (AI mode) while staying performant on large repos.

Features:
  - Developer mode (future trim target): minimal hierarchy.
  - AI mode (default): supports enrichment with rich perâ€‘file metadata.

 Rich metadata (enrichment) includes: imports, functions, classes, exports, stats (LOC + nonâ€‘zero counts only), first doc/comment line, large-file skip marker.
- `overviewer/__init__.py` â€“ Exposes primary API functions (scan, render, parse blueprint) for external use.
- `overviewer/model.py` â€“ Dataclasses for `FileInfo` and `FolderNode` representing the scanned tree and file metadata.
- `overviewer/filters.py` â€“ Directory & file ignore logic, binary extension list, and automatic star filename heuristics.
- `overviewer/scanner.py` â€“ Core recursive project traversal, extension discovery, metadata parsing (AST/regex), caching integration.
- `overviewer/renderer.py` â€“ Markdown assembly: heading formatting (hashless), indentation, star placement, optional AI metadata blocks.
- `overviewer/blueprint.py` â€“ Parses existing blueprint headings to constrain subsequent scans to specified subtrees.
- `overviewer/cache.py` â€“ Load/save JSON metadata cache keyed by relative file path and modification time.
- `overviewer/config.py` â€“ Load/save perâ€‘project configuration (enabled extensions, future toggles) to a JSON file.
- `overviewer/interface.py` â€“ Tkinter GUI: root selection, scan orchestration (threaded), extension toggles with counts, colorization, save output.
- `overviewer/__main__.py` â€“ CLI entry (scan, gui, ingest-blueprint) using argparse.
- `tests/test_scanner.py` â€“ Unit tests validating scanning, rendering (star placement, heading format), and AI metadata presence.
- `Project_Documentation/Project_Documentation.md` â€“ (This file) Concise reference of features and internal structure for quick rampâ€‘up.

## High-Level Flow (Two-Phase Model)
1. User selects root (GUI) or passes via CLI.
2. Structure Scan (no metadata): hierarchy + extension discovery only.
3. User adjusts: extension checkboxes (visibility). Utilities: Select All, Deselect All, Select Only Supported Code Files. Perâ€‘extension "Enrich" toggles determine which types receive deep parsing.
4. Enrichment Pass (AI mode only): deep parse limited to selected extensions & only those with Enrich enabled; populates imports, functions, classes, exports, stats, doc summary.
5. Renderer outputs folder headings, description placeholders, starred files. If enriched, AI metadata lines appear under each file.
6. Token estimate displayed (character_count / 4). User can re-run enrichment after changing toggles or save Markdown.

1. ğŸ“• Imports: <list>
2. ğŸ“• Functions: <list>
If a file exceeded size guard: ğŸ“• Skipped: large file

- Shell (.sh): Shebang + sourced scripts as imports; functions via `name() {`; top contiguous comment block merged into doc summary; star heuristic for filenames containing deploy/start/run.
- XSL (.xsl): `<xsl:import|include>` as imports; functions list now includes only named templates + `<xsl:function>`; match templates counted in doc summary (named_templates / match_templates / functions).
- Initial structure scan avoids parsing content bodies; enrichment defers heavy parsing until requested.
- Large file (>400KB) skip policy unchanged; skipped files get a marker (no expensive parsing).
- Line counts only during enrichment.
- Regex extraction additions (shell/xsl/xml/dita/scss/css) are lightweight; each runs only on explicitly selected, enriched extensions.

## Future Considerations

## Notes
 - Comment legend: ğŸ¤– marks AI-authored additions in the overview or follow-up context documents; ğŸ§  marks human-authored contextual notes. These are not parsed as code metadata.

